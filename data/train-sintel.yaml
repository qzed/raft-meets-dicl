type: augment

augmentations:
  - type: scale
    min-size: &img_size [768, 384]
    min-scale: [0.5, 0.5]
    max-scale: [2.0, 2.0]
    mode: linear

  - type: crop
    size: *img_size

  - type: flip
    probability: [0.5, 0.5]

  - type: occlusion-forward
    probability: 0.25
    num: [1, 3]
    min-size: [1, 1]
    max-size: [100, 50]

  - type: occlusion-backward
    probability: 0.25
    num: [1, 3]
    min-size: [1, 1]
    max-size: [100, 50]

  - type: color-jitter
    prob-asymmetric: 0.5
    brightness: 0.4
    contrast: 0.4
    saturation: 0.4
    hue: 0.1274

  - type: noise-normal
    stddev: 0.002

source:
  type: repeat
  times: 100

  source:
    type: dataset
    spec: dataset/mpi-sintel.yaml
    parameters:
      type: train
      pass: clean
